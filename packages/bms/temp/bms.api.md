## API Report File for "bms"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

// @public (undocumented)
export interface BaseTimingAction {
    beat: number;
}

// @public
export class BMSChart {
    constructor();
    // (undocumented)
    headers: BMSHeaders;
    measureToBeat(measure: number, fraction: number): number;
    // (undocumented)
    objects: BMSObjects;
    // (undocumented)
    timeSignatures: TimeSignatures;
}

// @public (undocumented)
interface BMSCompileOptions {
    format: 'bms' | 'dtx';
    rng: (max: number) => number;
}

// @public
export class BMSHeaders {
    constructor();
    each(callback: (key: string, value: string) => any): void;
    get(name: string): string | undefined;
    getAll(name: string): string[] | undefined;
    set(name: string, value: string): void;
}

// @public
export interface BMSNote {
    // (undocumented)
    beat: number;
    // (undocumented)
    column?: string;
    // (undocumented)
    endBeat?: number;
    // (undocumented)
    keysound: string;
    keysoundEnd?: number;
    keysoundStart?: number;
}

// @public
export interface BMSObject {
    channel: string;
    fraction: number;
    measure: number;
    value: string;
}

// @public
export class BMSObjects {
    constructor();
    add(object: BMSObject): void;
    all(): BMSObject[];
    allSorted(): BMSObject[];
}

// @public (undocumented)
export interface BPMTimingAction extends BaseTimingAction {
    bpm: number;
    // (undocumented)
    type: 'bpm';
}

// @public
function compile(text: string, options?: Partial<BMSCompileOptions>): {
    headerSentences: number;
    channelSentences: number;
    controlSentences: number;
    skippedSentences: number;
    malformedSentences: number;
    chart: BMSChart;
    warnings: {
        lineNumber: number;
        message: string;
    }[];
};

declare namespace Compiler {
    export {
        compile,
        BMSCompileOptions
    }
}
export { Compiler }

// @public
function getReaderOptionsFromFilename(filename: string): {
    forceEncoding: string | undefined;
};

// @public (undocumented)
const IIDX_P1: {
    11: string;
    12: string;
    13: string;
    14: string;
    15: string;
    18: string;
    19: string;
    16: string;
};

// @public (undocumented)
export interface ISongInfoData {
    // (undocumented)
    artist: string;
    // (undocumented)
    difficulty: number;
    // (undocumented)
    genre: string;
    // (undocumented)
    level: number;
    // (undocumented)
    subartists: string[];
    // (undocumented)
    subtitles: string[];
    // (undocumented)
    title: string;
}

// @public
export class Keysounds {
    constructor(map: {
        [id: string]: string;
    });
    all(): {
        [id: string]: string;
    };
    files(): string[];
    static fromBMSChart(chart: BMSChart): Keysounds;
    get(id: string): string | undefined;
    // (undocumented)
    _map: {
        [id: string]: string;
    };
}

// @public
export class Notes {
    constructor(notes: BMSNote[]);
    all(): BMSNote[];
    // Warning: (ae-forgotten-export) The symbol "ChannelMapping" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    static CHANNEL_MAPPING: typeof ChannelMapping;
    count(): number;
    // Warning: (ae-forgotten-export) The symbol "BMSChartOptions" needs to be exported by the entry point index.d.ts
    static fromBMSChart(chart: BMSChart, options?: BMSChartOptions): Notes;
    // (undocumented)
    _notes: BMSNote[];
}

// @public
export class Positioning {
    constructor(segments: PositioningSegment[]);
    static fromBMSChart(chart: BMSChart): Positioning;
    position(beat: number): number;
    speed(beat: number): number;
    // (undocumented)
    _speedcore: Speedcore;
}

// Warning: (ae-forgotten-export) The symbol "SpeedSegment" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface PositioningSegment extends SpeedSegment {
    dx: number;
    inclusive: boolean;
    t: number;
    x: number;
}

// @public
function read(buffer: Buffer, options?: ReaderOptions | null): string;

// @public
function readAsync(buffer: Buffer, options: ReaderOptions | null, callback?: ReadCallback): void;

// @public
function readAsync(buffer: Buffer, callback?: ReadCallback): void;

// @public (undocumented)
export type ReadCallback = (error: Error | null, value?: string) => void;

declare namespace Reader {
    export {
        read,
        readAsync,
        getReaderOptionsFromFilename
    }
}
export { Reader }

// @public (undocumented)
export interface ReaderOptions {
    forceEncoding?: string;
}

// @public
export class SongInfo implements ISongInfoData {
    constructor(info: {
        [propertyName: string]: any;
    });
    // (undocumented)
    artist: string;
    // (undocumented)
    difficulty: number;
    static fromBMSChart(chart: BMSChart): SongInfo;
    // (undocumented)
    genre: string;
    // (undocumented)
    level: number;
    // (undocumented)
    subartists: string[];
    // (undocumented)
    subtitles: string[];
    // (undocumented)
    title: string;
}

// @public
export class Spacing {
    constructor(segments: SpacingSegment[]);
    factor(beat: number): number;
    static fromBMSChart(chart: BMSChart): Spacing;
}

// @public (undocumented)
export interface SpacingSegment extends SpeedSegment {
    dx: number;
    inclusive: boolean;
    t: number;
    x: number;
}

// @public
export class Speedcore<S extends SpeedSegment = SpeedSegment> {
    constructor(segments: S[]);
    dx(t: number): number;
    // (undocumented)
    _reached(index: number, targetFn: (segment: S) => number, position: number): boolean;
    // (undocumented)
    _segmentAt(targetFn: (segment: S) => number, position: number): S;
    // (undocumented)
    segmentAtT(t: number): S;
    // (undocumented)
    segmentAtX(x: number): S;
    // (undocumented)
    _segments: S[];
    t(x: number): number;
    x(t: number): number;
}

// @public (undocumented)
export interface StopTimingAction extends BaseTimingAction {
    stopBeats: number;
    // (undocumented)
    type: 'stop';
}

// @public
export class TimeSignatures {
    constructor();
    get(measure: number): number;
    getBeats(measure: number): number;
    measureToBeat(measure: number, fraction: number): number;
    set(measure: number, value: number): void;
}

// @public
export class Timing {
    constructor(initialBPM: number, actions: TimingAction[]);
    beatToSeconds(beat: number): number;
    bpmAtBeat(beat: number): number;
    // (undocumented)
    _eventBeats: number[];
    static fromBMSChart(chart: BMSChart): Timing;
    getEventBeats(): number[];
    secondsToBeat(seconds: number): number;
    // Warning: (ae-forgotten-export) The symbol "TimingSegment" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    _speedcore: Speedcore<TimingSegment>;
}

// @public (undocumented)
export type TimingAction = BPMTimingAction | StopTimingAction;

// (No @packageDocumentation comment for this package)

```
